import{k as x,c as a,h as r,m as B,S as E,O as L,am as R,au as K,g as P,r as u,av as j,a6 as w,a8 as g,w as k,d as I,W as M}from"./index.1f856c98.js";import{a as U,Q as C}from"./QResizeObserver.57fc23d3.js";var D=x({name:"QPageContainer",setup(t,{slots:m}){const{proxy:{$q:c}}=P(),o=E(R,()=>{console.error("QPageContainer needs to be child of QLayout")});L(K,!0);const d=a(()=>{const i={};return o.header.space===!0&&(i.paddingTop=`${o.header.size}px`),o.right.space===!0&&(i[`padding${c.lang.rtl===!0?"Left":"Right"}`]=`${o.right.size}px`),o.footer.space===!0&&(i.paddingBottom=`${o.footer.size}px`),o.left.space===!0&&(i[`padding${c.lang.rtl===!0?"Right":"Left"}`]=`${o.left.size}px`),i});return()=>r("div",{class:"q-page-container",style:d.value},B(m.default))}}),G=x({name:"QLayout",props:{container:Boolean,view:{type:String,default:"hhh lpr fff",validator:t=>/^(h|l)h(h|r) lpr (f|l)f(f|r)$/.test(t.toLowerCase())},onScroll:Function,onScrollHeight:Function,onResize:Function},setup(t,{slots:m,emit:c}){const{proxy:{$q:o}}=P(),d=u(null),i=u(o.screen.height),y=u(t.container===!0?0:o.screen.width),S=u({position:0,direction:"down",inflectionPoint:0}),v=u(0),l=u(j.value===!0?0:w()),Q=a(()=>"q-layout q-layout--"+(t.container===!0?"containerized":"standard")),q=a(()=>t.container===!1?{minHeight:o.screen.height+"px"}:null),H=a(()=>l.value!==0?{[o.lang.rtl===!0?"left":"right"]:`${l.value}px`}:null),T=a(()=>l.value!==0?{[o.lang.rtl===!0?"right":"left"]:0,[o.lang.rtl===!0?"left":"right"]:`-${l.value}px`,width:`calc(100% + ${l.value}px)`}:null);function W(e){if(t.container===!0||document.qScrollPrevented!==!0){const n={position:e.position.top,direction:e.direction,directionChanged:e.directionChanged,inflectionPoint:e.inflectionPoint.top,delta:e.delta.top};S.value=n,t.onScroll!==void 0&&c("scroll",n)}}function F(e){const{height:n,width:s}=e;let f=!1;i.value!==n&&(f=!0,i.value=n,t.onScrollHeight!==void 0&&c("scroll-height",n),z()),y.value!==s&&(f=!0,y.value=s),f===!0&&t.onResize!==void 0&&c("resize",e)}function O({height:e}){v.value!==e&&(v.value=e,z())}function z(){if(t.container===!0){const e=i.value>v.value?w():0;l.value!==e&&(l.value=e)}}let h;const b={instances:{},view:a(()=>t.view),isContainer:a(()=>t.container),rootRef:d,height:i,containerHeight:v,scrollbarWidth:l,totalWidth:a(()=>y.value+l.value),rows:a(()=>{const e=t.view.toLowerCase().split(" ");return{top:e[0].split(""),middle:e[1].split(""),bottom:e[2].split("")}}),header:g({size:0,offset:0,space:!1}),right:g({size:300,offset:0,space:!1}),footer:g({size:0,offset:0,space:!1}),left:g({size:300,offset:0,space:!1}),scroll:S,animate(){h!==void 0?clearTimeout(h):document.body.classList.add("q-body--layout-animate"),h=setTimeout(()=>{document.body.classList.remove("q-body--layout-animate"),h=void 0},155)},update(e,n,s){b[e][n]=s}};if(L(R,b),w()>0){let s=function(){e=null,n.classList.remove("hide-scrollbar")},f=function(){if(e===null){if(n.scrollHeight>o.screen.height)return;n.classList.add("hide-scrollbar")}else clearTimeout(e);e=setTimeout(s,300)},p=function($){e!==null&&$==="remove"&&(clearTimeout(e),s()),window[`${$}EventListener`]("resize",f)},e=null;const n=document.body;k(()=>t.container!==!0?"add":"remove",p),t.container!==!0&&p("add"),I(()=>{p("remove")})}return()=>{const e=M(m.default,[r(U,{onScroll:W}),r(C,{onResize:F})]),n=r("div",{class:Q.value,style:q.value,ref:t.container===!0?void 0:d,tabindex:-1},e);return t.container===!0?r("div",{class:"q-layout-container overflow-hidden",ref:d},[r(C,{onResize:O}),r("div",{class:"absolute-full",style:H.value},[r("div",{class:"scroll",style:T.value},[n])])]):n}}});export{D as Q,G as a};
